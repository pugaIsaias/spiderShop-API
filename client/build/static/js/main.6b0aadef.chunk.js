(this["webpackJsonpspider-shop"]=this["webpackJsonpspider-shop"]||[]).push([[0],{10:function(t,e,c){t.exports={cart:"ShoppingCart_cart__3APOU",cartImg:"ShoppingCart_cartImg__3-duU",cartItem:"ShoppingCart_cartItem__1Hf0h",cartItemPrice:"ShoppingCart_cartItemPrice__gbyd5",cartButton:"ShoppingCart_cartButton__2TIP2"}},13:function(t,e,c){t.exports={card:"Course_card__LAsDw",cardButton:"Course_cardButton__1_DjL",price:"Course_price__38k83",noBottomMargin:"Course_noBottomMargin__2QckZ"}},18:function(t,e,c){t.exports={Gallery:"Courses_Gallery__1x2yN",alignCenter:"Courses_alignCenter__3e5bv"}},19:function(t,e,c){t.exports={NavItem:"NavItem_NavItem__1AitK",active:"NavItem_active__BPA9x"}},32:function(t,e,c){},37:function(t,e,c){t.exports={NavItems:"NavItems_NavItems__2YStF"}},38:function(t,e,c){t.exports={Toolbar:"Toolbar_Toolbar__ApScI"}},39:function(t,e,c){t.exports={Content:"Layout_Content__PrDi6"}},47:function(t,e,c){},71:function(t,e,c){},72:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c(1),a=c(31),s=c.n(a),i=c(11),o=c(2),l=(c(47),c(32)),j=c.n(l),u=function(t){return Object(n.jsxs)("h1",{className:j.a.h1,children:[" ",t.children]})},p=c(33),b=c(9),m=c(14),h=c.n(m),d={apiURL:"https://rotaract-metropoli-gt.uc.r.appspot.com/api/",mysqlURL:"https://checkout-dot-rotaract-metropoli-gt.uc.r.appspot.com/"},O=h.a.create({baseURL:d.mysqlURL}),x=function(t){var e=Object(r.useState)(localStorage.getItem(t)||[]),c=Object(b.a)(e,2),n=c[0],a=c[1];return[n,function(e){n.push(e),localStorage.setItem(t,JSON.stringify(n)),a(e)}]},_=c(10),f=c.n(_),g=function(t){var e=x("cart"),c=Object(b.a)(e,2),r=c[0],a=(c[1],JSON.parse(r));return Object(n.jsxs)("div",{className:f.a.cart,children:[Object(n.jsxs)("p",{children:["Items on Cart : ",a.length]}),a.map((function(t){return Object(n.jsxs)("div",{className:f.a.cartItem,children:[Object(n.jsx)("img",{className:f.a.cartImg,src:t.banner,alt:""}),t.name,Object(n.jsxs)("p",{className:f.a.cartItemPrice,children:[" Q ",t.price]})]})})),Object(n.jsxs)("button",{className:f.a.cartButton,onClick:function(){return function(t){var e,c=Object(p.a)(a);try{for(c.s();!(e=c.n()).done;){var n=e.value;O.post("/course",n).then((function(t){console.log(t),localStorage.clear()})).catch((function(t){console.log(t)}))}}catch(r){c.e(r)}finally{c.f()}}()},children:["Checkout Q",a.reduce((function(t,e){return t+e.price}),0)]})]})},v=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{children:" Cart "}),Object(n.jsx)(g,{})]})},N=h.a.create({baseURL:d.apiURL}),C=c(13),I=c.n(C),S=function(t){return Object(n.jsxs)("div",{className:I.a.card,children:[Object(n.jsx)("img",{src:t.banner,alt:""}),Object(n.jsx)("h3",{children:t.name}),Object(n.jsx)("p",{children:t.description}),Object(n.jsxs)("div",{className:I.a.noBottomMargin,children:[Object(n.jsx)("p",{className:I.a.price,children:"Q"+t.price}),Object(n.jsx)("button",{className:I.a.cardButton,onClick:function(){return function(t){var e=JSON.parse(localStorage.getItem("cart"))||[];e.push(t),localStorage.setItem("cart",JSON.stringify(e))}(t)},children:"BUY"})]})]})},k=c(18),y=c.n(k),B=function(){var t=Object(r.useState)([]),e=Object(b.a)(t,2),c=e[0],a=e[1];return N.get("courses/").then((function(t){var e=t.data,c=[];e.forEach((function(t){var e={};e.id=t.id,e.name=t.name,e.price=t.price,e.banner=t.banner,e.description=t.description,e.link=t.link,c.push(e)})),a(c)})).catch((function(t){console.log("axios error:",t)})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{children:" Courses "}),Object(n.jsx)("div",{className:y.a.alignCenter,children:Object(n.jsx)("div",{className:y.a.Gallery,children:c.map((function(t){return Object(n.jsx)(S,{name:t.name,description:t.description,price:t.price,banner:t.banner,link:t.link},t.id)}))})})]})},L=c(34),U=c(35),P=c(41),J=c(40),R=c(19),A=c.n(R),F=function(t){return Object(n.jsx)("li",{className:A.a.NavItem,children:Object(n.jsx)(i.b,{to:t.link,exact:!0,activeClassName:A.a.active,children:t.children})})},T=c(37),Q=c.n(T),w=function(t){return Object(n.jsxs)("ul",{className:Q.a.NavItems,children:[Object(n.jsx)(F,{link:"/",children:"Courses"}),Object(n.jsx)(F,{link:"/cart",children:"Cart"})]})},D=c(38),G=c.n(D),M=function(t){return Object(n.jsx)("header",{className:G.a.Toolbar,children:Object(n.jsx)("nav",{children:Object(n.jsx)(w,{})})})},q=c(39),E=c.n(q),Y=function(t){Object(P.a)(c,t);var e=Object(J.a)(c);function c(){return Object(L.a)(this,c),e.apply(this,arguments)}return Object(U.a)(c,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M,{}),Object(n.jsx)("main",{className:E.a.Content,children:this.props.children})]})}}]),c}(r.Component);var H=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Y,{children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/",exact:!0,component:B}),Object(n.jsx)(o.a,{path:"/cart",component:v})]})})})};c(71);s.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.6b0aadef.chunk.js.map